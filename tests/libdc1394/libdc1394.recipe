# Bibop recipe for libdc1394
# See more: https://kaos.sh/bibop

pkg libdc1394 libdc1394-devel libdc1394-docs libdc1394-tools

fast-finish yes

var lib_linking_flags "-ldc1394"

command "-" "Check apps"
  app dc1394_grab_color_image
  app dc1394_grab_gray_image
  app dc1394_grab_partial_image
  app dc1394_grab_partial_pvn
  app dc1394_ladybug
  app dc1394_multiview
  app dc1394_reset_bus

command "-" "Check shared libs"
  lib-loaded libdc1394.so.*

command "-" "Check headers"
  lib-header dc1394

command "-" "Check pkg-config"
  lib-config libdc1394-2

command "-" "Check symbols exported by libdc1394.so"
  lib-exported libdc1394.so dc1394_avt_get_advanced_feature_inquiry
  lib-exported libdc1394.so dc1394_avt_get_aoi
  lib-exported libdc1394.so dc1394_avt_get_auto_gain
  lib-exported libdc1394.so dc1394_avt_get_auto_shutter
  lib-exported libdc1394.so dc1394_avt_get_blemish
  lib-exported libdc1394.so dc1394_avt_get_channel_adjust
  lib-exported libdc1394.so dc1394_avt_get_color_corr
  lib-exported libdc1394.so dc1394_avt_get_deferred_trans
  lib-exported libdc1394.so dc1394_avt_get_dsnu
  lib-exported libdc1394.so dc1394_avt_get_extented_shutter
  lib-exported libdc1394.so dc1394_avt_get_frame_info
  lib-exported libdc1394.so dc1394_avt_get_gpdata_info
  lib-exported libdc1394.so dc1394_avt_get_hsnr
  lib-exported libdc1394.so dc1394_avt_get_io
  lib-exported libdc1394.so dc1394_avt_get_lut
  lib-exported libdc1394.so dc1394_avt_get_lut_info
  lib-exported libdc1394.so dc1394_avt_get_lut_mem_ctrl
  lib-exported libdc1394.so dc1394_avt_get_MaxResolution
  lib-exported libdc1394.so dc1394_avt_get_mirror
  lib-exported libdc1394.so dc1394_avt_get_multiple_slope
  lib-exported libdc1394.so dc1394_avt_get_shading
  lib-exported libdc1394.so dc1394_avt_get_shading_info
  lib-exported libdc1394.so dc1394_avt_get_shading_mem_ctrl
  lib-exported libdc1394.so dc1394_avt_get_test_images
  lib-exported libdc1394.so dc1394_avt_get_timebase
  lib-exported libdc1394.so dc1394_avt_get_trigger_delay
  lib-exported libdc1394.so dc1394_avt_get_version
  lib-exported libdc1394.so dc1394_avt_print_advanced_feature
  lib-exported libdc1394.so dc1394_avt_read_gpdata
  lib-exported libdc1394.so dc1394_avt_read_shading_img
  lib-exported libdc1394.so dc1394_avt_reset
  lib-exported libdc1394.so dc1394_avt_reset_frame_info
  lib-exported libdc1394.so dc1394_avt_set_aoi
  lib-exported libdc1394.so dc1394_avt_set_auto_gain
  lib-exported libdc1394.so dc1394_avt_set_auto_shutter
  lib-exported libdc1394.so dc1394_avt_set_blemish
  lib-exported libdc1394.so dc1394_avt_set_channel_adjust
  lib-exported libdc1394.so dc1394_avt_set_color_corr
  lib-exported libdc1394.so dc1394_avt_set_deferred_trans
  lib-exported libdc1394.so dc1394_avt_set_dsnu
  lib-exported libdc1394.so dc1394_avt_set_extented_shutter
  lib-exported libdc1394.so dc1394_avt_set_hsnr
  lib-exported libdc1394.so dc1394_avt_set_io
  lib-exported libdc1394.so dc1394_avt_set_lut
  lib-exported libdc1394.so dc1394_avt_set_lut_mem_ctrl
  lib-exported libdc1394.so dc1394_avt_set_mirror
  lib-exported libdc1394.so dc1394_avt_set_multiple_slope
  lib-exported libdc1394.so dc1394_avt_set_shading
  lib-exported libdc1394.so dc1394_avt_set_shading_mem_ctrl
  lib-exported libdc1394.so dc1394_avt_set_test_images
  lib-exported libdc1394.so dc1394_avt_set_timebase
  lib-exported libdc1394.so dc1394_avt_set_trigger_delay
  lib-exported libdc1394.so dc1394_avt_write_gpdata
  lib-exported libdc1394.so dc1394_avt_write_shading_img
  lib-exported libdc1394.so dc1394_basler_sff_check_crc
  lib-exported libdc1394.so dc1394_basler_sff_chunk_find
  lib-exported libdc1394.so dc1394_basler_sff_chunk_iterate
  lib-exported libdc1394.so dc1394_basler_sff_chunk_iterate_init
  lib-exported libdc1394.so dc1394_basler_sff_feature_enable
  lib-exported libdc1394.so dc1394_basler_sff_feature_is_available
  lib-exported libdc1394.so dc1394_basler_sff_feature_is_enabled
  lib-exported libdc1394.so dc1394_basler_sff_feature_print
  lib-exported libdc1394.so dc1394_basler_sff_feature_print_all
  lib-exported libdc1394.so dc1394_basler_sff_is_available
  lib-exported libdc1394.so dc1394_bayer_AHD
  lib-exported libdc1394.so dc1394_bayer_AHD_uint16
  lib-exported libdc1394.so dc1394_bayer_Bilinear
  lib-exported libdc1394.so dc1394_bayer_Bilinear_uint16
  lib-exported libdc1394.so dc1394_bayer_decoding_16bit
  lib-exported libdc1394.so dc1394_bayer_decoding_8bit
  lib-exported libdc1394.so dc1394_bayer_Downsample
  lib-exported libdc1394.so dc1394_bayer_Downsample_uint16
  lib-exported libdc1394.so dc1394_bayer_EdgeSense
  lib-exported libdc1394.so dc1394_bayer_EdgeSense_uint16
  lib-exported libdc1394.so dc1394_bayer_HQLinear
  lib-exported libdc1394.so dc1394_bayer_HQLinear_uint16
  lib-exported libdc1394.so dc1394_bayer_NearestNeighbor
  lib-exported libdc1394.so dc1394_bayer_NearestNeighbor_uint16
  lib-exported libdc1394.so dc1394_bayer_Simple
  lib-exported libdc1394.so dc1394_bayer_Simple_uint16
  lib-exported libdc1394.so dc1394_bayer_VNG
  lib-exported libdc1394.so dc1394_bayer_VNG_uint16
  lib-exported libdc1394.so dc1394_camera_enumerate
  lib-exported libdc1394.so dc1394_camera_free
  lib-exported libdc1394.so dc1394_camera_free_list
  lib-exported libdc1394.so dc1394_camera_get_broadcast
  lib-exported libdc1394.so dc1394_camera_get_linux_port
  lib-exported libdc1394.so dc1394_camera_get_node
  lib-exported libdc1394.so dc1394_camera_get_platform_string
  lib-exported libdc1394.so dc1394_camera_new
  lib-exported libdc1394.so dc1394_camera_new_unit
  lib-exported libdc1394.so dc1394_camera_print_info
  lib-exported libdc1394.so dc1394_camera_reset
  lib-exported libdc1394.so dc1394_camera_set_broadcast
  lib-exported libdc1394.so dc1394_camera_set_power
  lib-exported libdc1394.so dc1394_capture_dequeue
  lib-exported libdc1394.so dc1394_capture_enqueue
  lib-exported libdc1394.so dc1394_capture_get_fileno
  lib-exported libdc1394.so dc1394_capture_is_frame_corrupt
  lib-exported libdc1394.so dc1394_capture_set_callback
  lib-exported libdc1394.so dc1394_capture_set_device_filename
  lib-exported libdc1394.so dc1394_capture_setup
  lib-exported libdc1394.so dc1394_capture_stop
  lib-exported libdc1394.so dc1394_checksum_crc16
  lib-exported libdc1394.so dc1394_convert_frames
  lib-exported libdc1394.so dc1394_convert_to_MONO8
  lib-exported libdc1394.so dc1394_convert_to_RGB8
  lib-exported libdc1394.so dc1394_convert_to_YUV422
  lib-exported libdc1394.so dc1394_debayer_frames
  lib-exported libdc1394.so dc1394_deinterlace_stereo
  lib-exported libdc1394.so dc1394_deinterlace_stereo_frames
  lib-exported libdc1394.so dc1394_error_get_string
  lib-exported libdc1394.so dc1394_error_strings
  lib-exported libdc1394.so dc1394_external_trigger_get_mode
  lib-exported libdc1394.so dc1394_external_trigger_get_polarity
  lib-exported libdc1394.so dc1394_external_trigger_get_power
  lib-exported libdc1394.so dc1394_external_trigger_get_source
  lib-exported libdc1394.so dc1394_external_trigger_get_supported_sources
  lib-exported libdc1394.so dc1394_external_trigger_has_polarity
  lib-exported libdc1394.so dc1394_external_trigger_set_mode
  lib-exported libdc1394.so dc1394_external_trigger_set_polarity
  lib-exported libdc1394.so dc1394_external_trigger_set_power
  lib-exported libdc1394.so dc1394_external_trigger_set_source
  lib-exported libdc1394.so dc1394_feature_desc
  lib-exported libdc1394.so dc1394_feature_get
  lib-exported libdc1394.so dc1394_feature_get_absolute_boundaries
  lib-exported libdc1394.so dc1394_feature_get_absolute_control
  lib-exported libdc1394.so dc1394_feature_get_absolute_value
  lib-exported libdc1394.so dc1394_feature_get_all
  lib-exported libdc1394.so dc1394_feature_get_boundaries
  lib-exported libdc1394.so dc1394_feature_get_mode
  lib-exported libdc1394.so dc1394_feature_get_modes
  lib-exported libdc1394.so dc1394_feature_get_power
  lib-exported libdc1394.so dc1394_feature_get_string
  lib-exported libdc1394.so dc1394_feature_get_value
  lib-exported libdc1394.so dc1394_feature_has_absolute_control
  lib-exported libdc1394.so dc1394_feature_is_present
  lib-exported libdc1394.so dc1394_feature_is_readable
  lib-exported libdc1394.so dc1394_feature_is_switchable
  lib-exported libdc1394.so dc1394_feature_print
  lib-exported libdc1394.so dc1394_feature_print_all
  lib-exported libdc1394.so dc1394_feature_set_absolute_control
  lib-exported libdc1394.so dc1394_feature_set_absolute_value
  lib-exported libdc1394.so dc1394_feature_set_mode
  lib-exported libdc1394.so dc1394_feature_set_power
  lib-exported libdc1394.so dc1394_feature_set_value
  lib-exported libdc1394.so dc1394_feature_temperature_get_value
  lib-exported libdc1394.so dc1394_feature_temperature_set_value
  lib-exported libdc1394.so dc1394_feature_whitebalance_get_value
  lib-exported libdc1394.so dc1394_feature_whitebalance_set_value
  lib-exported libdc1394.so dc1394_feature_whiteshading_get_value
  lib-exported libdc1394.so dc1394_feature_whiteshading_set_value
  lib-exported libdc1394.so dc1394_format7_get_color_coding
  lib-exported libdc1394.so dc1394_format7_get_color_codings
  lib-exported libdc1394.so dc1394_format7_get_color_filter
  lib-exported libdc1394.so dc1394_format7_get_data_depth
  lib-exported libdc1394.so dc1394_format7_get_frame_interval
  lib-exported libdc1394.so dc1394_format7_get_image_position
  lib-exported libdc1394.so dc1394_format7_get_image_size
  lib-exported libdc1394.so dc1394_format7_get_max_image_size
  lib-exported libdc1394.so dc1394_format7_get_mode_info
  lib-exported libdc1394.so dc1394_format7_get_modeset
  lib-exported libdc1394.so dc1394_format7_get_packet_parameters
  lib-exported libdc1394.so dc1394_format7_get_packet_size
  lib-exported libdc1394.so dc1394_format7_get_packets_per_frame
  lib-exported libdc1394.so dc1394_format7_get_pixel_number
  lib-exported libdc1394.so dc1394_format7_get_recommended_packet_size
  lib-exported libdc1394.so dc1394_format7_get_roi
  lib-exported libdc1394.so dc1394_format7_get_total_bytes
  lib-exported libdc1394.so dc1394_format7_get_unit_position
  lib-exported libdc1394.so dc1394_format7_get_unit_size
  lib-exported libdc1394.so dc1394_format7_get_value_setting
  lib-exported libdc1394.so dc1394_format7_set_color_coding
  lib-exported libdc1394.so dc1394_format7_set_image_position
  lib-exported libdc1394.so dc1394_format7_set_image_size
  lib-exported libdc1394.so dc1394_format7_set_packet_size
  lib-exported libdc1394.so dc1394_format7_set_roi
  lib-exported libdc1394.so dc1394_format7_set_value_setting
  lib-exported libdc1394.so dc1394_framerate_as_float
  lib-exported libdc1394.so dc1394_free
  lib-exported libdc1394.so dc1394_get_absolute_register
  lib-exported libdc1394.so dc1394_get_adv_control_registers
  lib-exported libdc1394.so dc1394_get_color_coding_bit_size
  lib-exported libdc1394.so dc1394_get_color_coding_data_depth
  lib-exported libdc1394.so dc1394_get_color_coding_from_video_mode
  lib-exported libdc1394.so dc1394_get_control_registers
  lib-exported libdc1394.so dc1394_get_format7_register
  lib-exported libdc1394.so dc1394_get_image_size_from_video_mode
  lib-exported libdc1394.so dc1394_get_PIO_register
  lib-exported libdc1394.so dc1394_get_registers
  lib-exported libdc1394.so dc1394_get_SIO_register
  lib-exported libdc1394.so dc1394_get_strobe_register
  lib-exported libdc1394.so dc1394_is_color
  lib-exported libdc1394.so dc1394_iso_allocate_bandwidth
  lib-exported libdc1394.so dc1394_iso_allocate_channel
  lib-exported libdc1394.so dc1394_iso_release_all
  lib-exported libdc1394.so dc1394_iso_release_bandwidth
  lib-exported libdc1394.so dc1394_iso_release_channel
  lib-exported libdc1394.so dc1394_iso_set_persist
  lib-exported libdc1394.so dc1394_is_same_camera
  lib-exported libdc1394.so dc1394_is_video_mode_scalable
  lib-exported libdc1394.so dc1394_is_video_mode_still_image
  lib-exported libdc1394.so dc1394_juju_capture_dequeue
  lib-exported libdc1394.so dc1394_juju_capture_enqueue
  lib-exported libdc1394.so dc1394_juju_capture_get_fileno
  lib-exported libdc1394.so dc1394_juju_capture_setup
  lib-exported libdc1394.so dc1394_juju_capture_stop
  lib-exported libdc1394.so dc1394_linux_capture_dequeue
  lib-exported libdc1394.so dc1394_linux_capture_enqueue
  lib-exported libdc1394.so dc1394_linux_capture_get_fileno
  lib-exported libdc1394.so dc1394_linux_capture_setup
  lib-exported libdc1394.so dc1394_linux_capture_stop
  lib-exported libdc1394.so dc1394_log_debug
  lib-exported libdc1394.so dc1394_log_error
  lib-exported libdc1394.so dc1394_log_register_handler
  lib-exported libdc1394.so dc1394_log_set_default_handler
  lib-exported libdc1394.so dc1394_log_warning
  lib-exported libdc1394.so dc1394_memory_busy
  lib-exported libdc1394.so dc1394_memory_load
  lib-exported libdc1394.so dc1394_memory_save
  lib-exported libdc1394.so dc1394_MONO16_to_MONO8
  lib-exported libdc1394.so dc1394_MONO16_to_RGB8
  lib-exported libdc1394.so dc1394_MONO16_to_YUV422
  lib-exported libdc1394.so dc1394_MONO8_to_RGB8
  lib-exported libdc1394.so dc1394_MONO8_to_YUV422
  lib-exported libdc1394.so dc1394_new
  lib-exported libdc1394.so dc1394_pio_get
  lib-exported libdc1394.so dc1394_pio_set
  lib-exported libdc1394.so dc1394_pxl_convert_float32_to_quadlet
  lib-exported libdc1394.so dc1394_pxl_convert_uint32_to_float32
  lib-exported libdc1394.so dc1394_pxl_get_adv_feature_info
  lib-exported libdc1394.so dc1394_pxl_get_camera_info
  lib-exported libdc1394.so dc1394_pxl_get_camera_serial_number
  lib-exported libdc1394.so dc1394_pxl_get_gpio_inq
  lib-exported libdc1394.so dc1394_pxl_get_gpo_config
  lib-exported libdc1394.so dc1394_pxl_get_gpo_param
  lib-exported libdc1394.so dc1394_pxl_get_gpo_param_min_max
  lib-exported libdc1394.so dc1394_pxl_print_camera_info
  lib-exported libdc1394.so dc1394_pxl_read_n_bytes
  lib-exported libdc1394.so dc1394_pxl_set_gpio_mode_param
  lib-exported libdc1394.so dc1394_pxl_set_gpo_config
  lib-exported libdc1394.so dc1394_pxl_set_gpo_param
  lib-exported libdc1394.so dc1394_read_cycle_timer
  lib-exported libdc1394.so dc1394_reset_bus
  lib-exported libdc1394.so dc1394_RGB16_to_RGB8
  lib-exported libdc1394.so dc1394_RGB16_to_YUV422
  lib-exported libdc1394.so dc1394_RGB8_to_YUV422
  lib-exported libdc1394.so dc1394_set_absolute_register
  lib-exported libdc1394.so dc1394_set_adv_control_registers
  lib-exported libdc1394.so dc1394_set_control_registers
  lib-exported libdc1394.so dc1394_set_format7_register
  lib-exported libdc1394.so dc1394_set_PIO_register
  lib-exported libdc1394.so dc1394_set_registers
  lib-exported libdc1394.so dc1394_set_SIO_register
  lib-exported libdc1394.so dc1394_set_strobe_register
  lib-exported libdc1394.so dc1394_software_trigger_get_power
  lib-exported libdc1394.so dc1394_software_trigger_set_power
  lib-exported libdc1394.so dc1394_usb_capture_dequeue
  lib-exported libdc1394.so dc1394_usb_capture_enqueue
  lib-exported libdc1394.so dc1394_usb_capture_get_fileno
  lib-exported libdc1394.so dc1394_usb_capture_is_frame_corrupt
  lib-exported libdc1394.so dc1394_usb_capture_setup
  lib-exported libdc1394.so dc1394_usb_capture_stop
  lib-exported libdc1394.so dc1394_usb_init
  lib-exported libdc1394.so dc1394_video_get_bandwidth_usage
  lib-exported libdc1394.so dc1394_video_get_data_depth
  lib-exported libdc1394.so dc1394_video_get_framerate
  lib-exported libdc1394.so dc1394_video_get_iso_channel
  lib-exported libdc1394.so dc1394_video_get_iso_speed
  lib-exported libdc1394.so dc1394_video_get_mode
  lib-exported libdc1394.so dc1394_video_get_multi_shot
  lib-exported libdc1394.so dc1394_video_get_one_shot
  lib-exported libdc1394.so dc1394_video_get_operation_mode
  lib-exported libdc1394.so dc1394_video_get_supported_framerates
  lib-exported libdc1394.so dc1394_video_get_supported_modes
  lib-exported libdc1394.so dc1394_video_get_transmission
  lib-exported libdc1394.so dc1394_video_set_framerate
  lib-exported libdc1394.so dc1394_video_set_iso_channel
  lib-exported libdc1394.so dc1394_video_set_iso_speed
  lib-exported libdc1394.so dc1394_video_set_mode
  lib-exported libdc1394.so dc1394_video_set_multi_shot
  lib-exported libdc1394.so dc1394_video_set_one_shot
  lib-exported libdc1394.so dc1394_video_set_operation_mode
  lib-exported libdc1394.so dc1394_video_set_transmission
  lib-exported libdc1394.so dc1394_YUV411_to_RGB8
  lib-exported libdc1394.so dc1394_YUV411_to_YUV422
  lib-exported libdc1394.so dc1394_YUV422_to_RGB8
  lib-exported libdc1394.so dc1394_YUV422_to_YUV422
  lib-exported libdc1394.so dc1394_YUV444_to_RGB8
  lib-exported libdc1394.so dc1394_YUV444_to_YUV422

command "gcc -o test_bin {lib_linking_flags} test.c" "Compile binary"
  exit 0
  exist test_bin

+command "./test_bin" "Execute built binary"
  exit 0
