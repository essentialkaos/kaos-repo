# Bibop recipe for python-zmq for CentOS 7
# See more: https://github.com/essentialkaos/bibop

pkg python-zmq python36-zmq

fast-finish yes

command "-" "Check Python 2 installation"
  exist {PYTHON2_SITEARCH}/zmq
  exist {PYTHON2_SITEARCH}/zmq/auth
  exist {PYTHON2_SITEARCH}/zmq/backend
  exist {PYTHON2_SITEARCH}/zmq/devices
  exist {PYTHON2_SITEARCH}/zmq/eventloop
  exist {PYTHON2_SITEARCH}/zmq/green
  exist {PYTHON2_SITEARCH}/zmq/log
  exist {PYTHON2_SITEARCH}/zmq/ssh
  exist {PYTHON2_SITEARCH}/zmq/sugar
  exist {PYTHON2_SITEARCH}/zmq/utils

  dir {PYTHON2_SITEARCH}/zmq
  dir {PYTHON2_SITEARCH}/zmq/auth
  dir {PYTHON2_SITEARCH}/zmq/backend
  dir {PYTHON2_SITEARCH}/zmq/devices
  dir {PYTHON2_SITEARCH}/zmq/eventloop
  dir {PYTHON2_SITEARCH}/zmq/green
  dir {PYTHON2_SITEARCH}/zmq/log
  dir {PYTHON2_SITEARCH}/zmq/ssh
  dir {PYTHON2_SITEARCH}/zmq/sugar
  dir {PYTHON2_SITEARCH}/zmq/utils

  exist {PYTHON2_SITEARCH}/zmq/__init__.py

  python-module zmq

command "-" "Check Python 3 installation"
  exist {PYTHON3_SITEARCH}/zmq
  exist {PYTHON3_SITEARCH}/zmq/auth
  exist {PYTHON3_SITEARCH}/zmq/backend
  exist {PYTHON3_SITEARCH}/zmq/devices
  exist {PYTHON3_SITEARCH}/zmq/eventloop
  exist {PYTHON3_SITEARCH}/zmq/green
  exist {PYTHON3_SITEARCH}/zmq/log
  exist {PYTHON3_SITEARCH}/zmq/ssh
  exist {PYTHON3_SITEARCH}/zmq/sugar
  exist {PYTHON3_SITEARCH}/zmq/utils

  dir {PYTHON3_SITEARCH}/zmq
  dir {PYTHON3_SITEARCH}/zmq/auth
  dir {PYTHON3_SITEARCH}/zmq/backend
  dir {PYTHON3_SITEARCH}/zmq/devices
  dir {PYTHON3_SITEARCH}/zmq/eventloop
  dir {PYTHON3_SITEARCH}/zmq/green
  dir {PYTHON3_SITEARCH}/zmq/log
  dir {PYTHON3_SITEARCH}/zmq/ssh
  dir {PYTHON3_SITEARCH}/zmq/sugar
  dir {PYTHON3_SITEARCH}/zmq/utils

  exist {PYTHON3_SITEARCH}/zmq/__init__.py

  python3-module zmq
