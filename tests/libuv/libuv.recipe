# Bibop recipe for libuv
# See more: https://kaos.sh/bibop

pkg libuv libuv-devel

fast-finish yes

var lib_name libuv
var lib_linking_flags "-luv -lrt -ldl"

command "-" "Check shared libs"
  lib-loaded {lib_name}.so.*

command "-" "Check headers"
  lib-header uv

command "-" "Check pkg-config"
  lib-config {lib_name}

command "-" "Check symbols exported by libuv.so"
  lib-exported {lib_name}.so uv_accept
  lib-exported {lib_name}.so uv_async_init
  lib-exported {lib_name}.so uv_async_send
  lib-exported {lib_name}.so uv_backend_fd
  lib-exported {lib_name}.so uv_backend_timeout
  lib-exported {lib_name}.so uv_barrier_destroy
  lib-exported {lib_name}.so uv_barrier_init
  lib-exported {lib_name}.so uv_barrier_wait
  lib-exported {lib_name}.so uv_buf_init
  lib-exported {lib_name}.so uv_cancel
  lib-exported {lib_name}.so uv_chdir
  lib-exported {lib_name}.so uv_check_init
  lib-exported {lib_name}.so uv_check_start
  lib-exported {lib_name}.so uv_check_stop
  lib-exported {lib_name}.so uv_close
  lib-exported {lib_name}.so uv_cond_broadcast
  lib-exported {lib_name}.so uv_cond_destroy
  lib-exported {lib_name}.so uv_cond_init
  lib-exported {lib_name}.so uv_cond_signal
  lib-exported {lib_name}.so uv_cond_timedwait
  lib-exported {lib_name}.so uv_cond_wait
  lib-exported {lib_name}.so uv_cpu_info
  lib-exported {lib_name}.so uv_cwd
  lib-exported {lib_name}.so uv_default_loop
  lib-exported {lib_name}.so uv_disable_stdio_inheritance
  lib-exported {lib_name}.so uv_dlclose
  lib-exported {lib_name}.so uv_dlerror
  lib-exported {lib_name}.so uv_dlopen
  lib-exported {lib_name}.so uv_dlsym
  lib-exported {lib_name}.so uv_err_name
  lib-exported {lib_name}.so uv_err_name_r
  lib-exported {lib_name}.so uv_exepath
  lib-exported {lib_name}.so uv_fileno
  lib-exported {lib_name}.so uv_freeaddrinfo
  lib-exported {lib_name}.so uv_free_cpu_info
  lib-exported {lib_name}.so uv_free_interface_addresses
  lib-exported {lib_name}.so uv_fs_access
  lib-exported {lib_name}.so uv_fs_chmod
  lib-exported {lib_name}.so uv_fs_chown
  lib-exported {lib_name}.so uv_fs_close
  lib-exported {lib_name}.so uv_fs_closedir
  lib-exported {lib_name}.so uv_fs_copyfile
  lib-exported {lib_name}.so uv_fs_event_getpath
  lib-exported {lib_name}.so uv_fs_event_init
  lib-exported {lib_name}.so uv_fs_event_start
  lib-exported {lib_name}.so uv_fs_event_stop
  lib-exported {lib_name}.so uv_fs_fchmod
  lib-exported {lib_name}.so uv_fs_fchown
  lib-exported {lib_name}.so uv_fs_fdatasync
  lib-exported {lib_name}.so uv_fs_fstat
  lib-exported {lib_name}.so uv_fs_fsync
  lib-exported {lib_name}.so uv_fs_ftruncate
  lib-exported {lib_name}.so uv_fs_futime
  lib-exported {lib_name}.so uv_fs_get_path
  lib-exported {lib_name}.so uv_fs_get_ptr
  lib-exported {lib_name}.so uv_fs_get_result
  lib-exported {lib_name}.so uv_fs_get_statbuf
  lib-exported {lib_name}.so uv_fs_get_type
  lib-exported {lib_name}.so uv_fs_lchown
  lib-exported {lib_name}.so uv_fs_link
  lib-exported {lib_name}.so uv_fs_lstat
  lib-exported {lib_name}.so uv_fs_mkdir
  lib-exported {lib_name}.so uv_fs_mkdtemp
  lib-exported {lib_name}.so uv_fs_mkstemp
  lib-exported {lib_name}.so uv_fs_open
  lib-exported {lib_name}.so uv_fs_opendir
  lib-exported {lib_name}.so uv_fs_poll_getpath
  lib-exported {lib_name}.so uv_fs_poll_init
  lib-exported {lib_name}.so uv_fs_poll_start
  lib-exported {lib_name}.so uv_fs_poll_stop
  lib-exported {lib_name}.so uv_fs_read
  lib-exported {lib_name}.so uv_fs_readdir
  lib-exported {lib_name}.so uv_fs_readlink
  lib-exported {lib_name}.so uv_fs_realpath
  lib-exported {lib_name}.so uv_fs_rename
  lib-exported {lib_name}.so uv_fs_req_cleanup
  lib-exported {lib_name}.so uv_fs_rmdir
  lib-exported {lib_name}.so uv_fs_scandir
  lib-exported {lib_name}.so uv_fs_scandir_next
  lib-exported {lib_name}.so uv_fs_sendfile
  lib-exported {lib_name}.so uv_fs_stat
  lib-exported {lib_name}.so uv_fs_statfs
  lib-exported {lib_name}.so uv_fs_symlink
  lib-exported {lib_name}.so uv_fs_unlink
  lib-exported {lib_name}.so uv_fs_utime
  lib-exported {lib_name}.so uv_fs_write
  lib-exported {lib_name}.so uv_getaddrinfo
  lib-exported {lib_name}.so uv_get_constrained_memory
  lib-exported {lib_name}.so uv_get_free_memory
  lib-exported {lib_name}.so uv_getnameinfo
  lib-exported {lib_name}.so uv_get_osfhandle
  lib-exported {lib_name}.so uv_get_process_title
  lib-exported {lib_name}.so uv_getrusage
  lib-exported {lib_name}.so uv_gettimeofday
  lib-exported {lib_name}.so uv_get_total_memory
  lib-exported {lib_name}.so uv_guess_handle
  lib-exported {lib_name}.so uv_handle_get_data
  lib-exported {lib_name}.so uv_handle_get_loop
  lib-exported {lib_name}.so uv_handle_get_type
  lib-exported {lib_name}.so uv_handle_set_data
  lib-exported {lib_name}.so uv_handle_size
  lib-exported {lib_name}.so uv_handle_type_name
  lib-exported {lib_name}.so uv_has_ref
  lib-exported {lib_name}.so uv_hrtime
  lib-exported {lib_name}.so uv_idle_init
  lib-exported {lib_name}.so uv_idle_start
  lib-exported {lib_name}.so uv_idle_stop
  lib-exported {lib_name}.so uv_if_indextoiid
  lib-exported {lib_name}.so uv_if_indextoname
  lib-exported {lib_name}.so uv_inet_ntop
  lib-exported {lib_name}.so uv_inet_pton
  lib-exported {lib_name}.so uv_interface_addresses
  lib-exported {lib_name}.so uv_ip4_addr
  lib-exported {lib_name}.so uv_ip4_name
  lib-exported {lib_name}.so uv_ip6_addr
  lib-exported {lib_name}.so uv_ip6_name
  lib-exported {lib_name}.so uv_is_active
  lib-exported {lib_name}.so uv_is_closing
  lib-exported {lib_name}.so uv_is_readable
  lib-exported {lib_name}.so uv_is_writable
  lib-exported {lib_name}.so uv_key_create
  lib-exported {lib_name}.so uv_key_delete
  lib-exported {lib_name}.so uv_key_get
  lib-exported {lib_name}.so uv_key_set
  lib-exported {lib_name}.so uv_kill
  lib-exported {lib_name}.so uv_listen
  lib-exported {lib_name}.so uv_loadavg
  lib-exported {lib_name}.so uv_loop_alive
  lib-exported {lib_name}.so uv_loop_close
  lib-exported {lib_name}.so uv_loop_configure
  lib-exported {lib_name}.so uv_loop_delete
  lib-exported {lib_name}.so uv_loop_fork
  lib-exported {lib_name}.so uv_loop_get_data
  lib-exported {lib_name}.so uv_loop_init
  lib-exported {lib_name}.so uv_loop_new
  lib-exported {lib_name}.so uv_loop_set_data
  lib-exported {lib_name}.so uv_loop_size
  lib-exported {lib_name}.so uv_mutex_destroy
  lib-exported {lib_name}.so uv_mutex_init
  lib-exported {lib_name}.so uv_mutex_init_recursive
  lib-exported {lib_name}.so uv_mutex_lock
  lib-exported {lib_name}.so uv_mutex_trylock
  lib-exported {lib_name}.so uv_mutex_unlock
  lib-exported {lib_name}.so uv_now
  lib-exported {lib_name}.so uv_once
  lib-exported {lib_name}.so uv_open_osfhandle
  lib-exported {lib_name}.so uv_os_environ
  lib-exported {lib_name}.so uv_os_free_environ
  lib-exported {lib_name}.so uv_os_free_passwd
  lib-exported {lib_name}.so uv_os_getenv
  lib-exported {lib_name}.so uv_os_gethostname
  lib-exported {lib_name}.so uv_os_get_passwd
  lib-exported {lib_name}.so uv_os_getpid
  lib-exported {lib_name}.so uv_os_getppid
  lib-exported {lib_name}.so uv_os_getpriority
  lib-exported {lib_name}.so uv_os_homedir
  lib-exported {lib_name}.so uv_os_setenv
  lib-exported {lib_name}.so uv_os_setpriority
  lib-exported {lib_name}.so uv_os_tmpdir
  lib-exported {lib_name}.so uv_os_uname
  lib-exported {lib_name}.so uv_os_unsetenv
  lib-exported {lib_name}.so uv_pipe_bind
  lib-exported {lib_name}.so uv_pipe_chmod
  lib-exported {lib_name}.so uv_pipe_connect
  lib-exported {lib_name}.so uv_pipe_getpeername
  lib-exported {lib_name}.so uv_pipe_getsockname
  lib-exported {lib_name}.so uv_pipe_init
  lib-exported {lib_name}.so uv_pipe_listen
  lib-exported {lib_name}.so uv_pipe_open
  lib-exported {lib_name}.so uv_pipe_pending_count
  lib-exported {lib_name}.so uv_pipe_pending_instances
  lib-exported {lib_name}.so uv_pipe_pending_type
  lib-exported {lib_name}.so uv_poll_init
  lib-exported {lib_name}.so uv_poll_init_socket
  lib-exported {lib_name}.so uv_poll_start
  lib-exported {lib_name}.so uv_poll_stop
  lib-exported {lib_name}.so uv_prepare_init
  lib-exported {lib_name}.so uv_prepare_start
  lib-exported {lib_name}.so uv_prepare_stop
  lib-exported {lib_name}.so uv_print_active_handles
  lib-exported {lib_name}.so uv_print_all_handles
  lib-exported {lib_name}.so uv_process_get_pid
  lib-exported {lib_name}.so uv_process_kill
  lib-exported {lib_name}.so uv_queue_work
  lib-exported {lib_name}.so uv_random
  lib-exported {lib_name}.so uv_read_start
  lib-exported {lib_name}.so uv_read_stop
  lib-exported {lib_name}.so uv_recv_buffer_size
  lib-exported {lib_name}.so uv_ref
  lib-exported {lib_name}.so uv_replace_allocator
  lib-exported {lib_name}.so uv_req_get_data
  lib-exported {lib_name}.so uv_req_get_type
  lib-exported {lib_name}.so uv_req_set_data
  lib-exported {lib_name}.so uv_req_size
  lib-exported {lib_name}.so uv_req_type_name
  lib-exported {lib_name}.so uv_resident_set_memory
  lib-exported {lib_name}.so uv_run
  lib-exported {lib_name}.so uv_rwlock_destroy
  lib-exported {lib_name}.so uv_rwlock_init
  lib-exported {lib_name}.so uv_rwlock_rdlock
  lib-exported {lib_name}.so uv_rwlock_rdunlock
  lib-exported {lib_name}.so uv_rwlock_tryrdlock
  lib-exported {lib_name}.so uv_rwlock_trywrlock
  lib-exported {lib_name}.so uv_rwlock_wrlock
  lib-exported {lib_name}.so uv_rwlock_wrunlock
  lib-exported {lib_name}.so uv_sem_destroy
  lib-exported {lib_name}.so uv_sem_init
  lib-exported {lib_name}.so uv_sem_post
  lib-exported {lib_name}.so uv_sem_trywait
  lib-exported {lib_name}.so uv_sem_wait
  lib-exported {lib_name}.so uv_send_buffer_size
  lib-exported {lib_name}.so uv_set_process_title
  lib-exported {lib_name}.so uv_setup_args
  lib-exported {lib_name}.so uv_shutdown
  lib-exported {lib_name}.so uv_signal_init
  lib-exported {lib_name}.so uv_signal_start
  lib-exported {lib_name}.so uv_signal_start_oneshot
  lib-exported {lib_name}.so uv_signal_stop
  lib-exported {lib_name}.so uv_sleep
  lib-exported {lib_name}.so uv_spawn
  lib-exported {lib_name}.so uv_stop
  lib-exported {lib_name}.so uv_stream_get_write_queue_size
  lib-exported {lib_name}.so uv_stream_set_blocking
  lib-exported {lib_name}.so uv_strerror
  lib-exported {lib_name}.so uv_strerror_r
  lib-exported {lib_name}.so uv_tcp_bind
  lib-exported {lib_name}.so uv_tcp_close_reset
  lib-exported {lib_name}.so uv_tcp_connect
  lib-exported {lib_name}.so uv_tcp_getpeername
  lib-exported {lib_name}.so uv_tcp_getsockname
  lib-exported {lib_name}.so uv_tcp_init
  lib-exported {lib_name}.so uv_tcp_init_ex
  lib-exported {lib_name}.so uv_tcp_keepalive
  lib-exported {lib_name}.so uv_tcp_listen
  lib-exported {lib_name}.so uv_tcp_nodelay
  lib-exported {lib_name}.so uv_tcp_open
  lib-exported {lib_name}.so uv_tcp_simultaneous_accepts
  lib-exported {lib_name}.so uv_thread_create
  lib-exported {lib_name}.so uv_thread_create_ex
  lib-exported {lib_name}.so uv_thread_equal
  lib-exported {lib_name}.so uv_thread_join
  lib-exported {lib_name}.so uv_thread_self
  lib-exported {lib_name}.so uv_timer_again
  lib-exported {lib_name}.so uv_timer_get_repeat
  lib-exported {lib_name}.so uv_timer_init
  lib-exported {lib_name}.so uv_timer_set_repeat
  lib-exported {lib_name}.so uv_timer_start
  lib-exported {lib_name}.so uv_timer_stop
  lib-exported {lib_name}.so uv_translate_sys_error
  lib-exported {lib_name}.so uv_try_write
  lib-exported {lib_name}.so uv_try_write_cb
  lib-exported {lib_name}.so uv_tty_get_vterm_state
  lib-exported {lib_name}.so uv_tty_get_winsize
  lib-exported {lib_name}.so uv_tty_init
  lib-exported {lib_name}.so uv_tty_reset_mode
  lib-exported {lib_name}.so uv_tty_set_mode
  lib-exported {lib_name}.so uv_tty_set_vterm_state
  lib-exported {lib_name}.so uv_udp_bind
  lib-exported {lib_name}.so uv_udp_connect
  lib-exported {lib_name}.so uv_udp_getpeername
  lib-exported {lib_name}.so uv_udp_get_send_queue_count
  lib-exported {lib_name}.so uv_udp_get_send_queue_size
  lib-exported {lib_name}.so uv_udp_getsockname
  lib-exported {lib_name}.so uv_udp_init
  lib-exported {lib_name}.so uv_udp_init_ex
  lib-exported {lib_name}.so uv_udp_open
  lib-exported {lib_name}.so uv_udp_recv_start
  lib-exported {lib_name}.so uv_udp_recv_stop
  lib-exported {lib_name}.so uv_udp_send
  lib-exported {lib_name}.so uv_udp_set_broadcast
  lib-exported {lib_name}.so uv_udp_set_membership
  lib-exported {lib_name}.so uv_udp_set_multicast_interface
  lib-exported {lib_name}.so uv_udp_set_multicast_loop
  lib-exported {lib_name}.so uv_udp_set_multicast_ttl
  lib-exported {lib_name}.so uv_udp_set_source_membership
  lib-exported {lib_name}.so uv_udp_set_ttl
  lib-exported {lib_name}.so uv_udp_try_send
  lib-exported {lib_name}.so uv_unref
  lib-exported {lib_name}.so uv_update_time
  lib-exported {lib_name}.so uv_uptime
  lib-exported {lib_name}.so uv_version
  lib-exported {lib_name}.so uv_version_string
  lib-exported {lib_name}.so uv_walk
  lib-exported {lib_name}.so uv_write
  lib-exported {lib_name}.so uv_write2

command "gcc -o test_bin {lib_linking_flags} test.c" "Compile binary"
  exit 0
  exist test_bin

+command "./test_bin" "Execute built binary"
  exit 0
