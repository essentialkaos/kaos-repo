# Bibop recipe for libnut
# See more: https://kaos.sh/bibop

pkg libnut libnut-devel

fast-finish yes

command "-" "Check environment"
  app nutindex
  app nutmerge
  app nutparse

command "-" "Check shared libs"
  lib-loaded libnut.so.*

command "-" "Check static libs"
  exist /usr/lib64/libnut.a
  mode /usr/lib64/libnut.a 644

command "-" "Check headers"
  lib-header libnut.h

command "-" "Check symbols exported by libnut.so"
  lib-exported libnut.so nut_demuxer_init
  lib-exported libnut.so nut_demuxer_uninit
  lib-exported libnut.so nut_error
  lib-exported libnut.so nut_framecode_generate
  lib-exported libnut.so nut_muxer_init
  lib-exported libnut.so nut_muxer_uninit
  lib-exported libnut.so nut_muxer_uninit_reorder
  lib-exported libnut.so nut_read_frame
  lib-exported libnut.so nut_read_headers
  lib-exported libnut.so nut_read_next_packet
  lib-exported libnut.so nut_seek
  lib-exported libnut.so nut_write_frame
  lib-exported libnut.so nut_write_frame_reorder
  lib-exported libnut.so nut_write_info
